using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using PhpVH;

namespace PhpVHUnitTests
{
    [TestClass]
    public class FormScrapeUnitTests : HtmlUnitTests
    {
        private FormTag[] GetForms(string testFile)
        {
            return FormScraper.GetForms(LoadResource(testFile), "GET");
        }

        [TestMethod]
        public void GetFormsTestMethod()
        {
            var forms = GetForms("Form1");
            Assert.AreEqual(1, forms.Length);            
        }

        [TestMethod]
        public void GetInputsTestMethod()
        {
            var inputs = GetForms("Form1")[0].Inputs;
            Assert.AreEqual(2, inputs.Length);
        }

        [TestMethod]
        public void GetAttributesTestMethod()
        {
            var inputs = GetForms("Form1")[0].Inputs;
            Assert.AreEqual("testType", inputs[0].Type);
            Assert.AreEqual("testValue", inputs[0].Value);
            Assert.AreEqual("testType2", inputs[1].Type);
            Assert.AreEqual("testValue2", inputs[1].Value);
        }
    }
}
