using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using Components;
using PhpVH.LexicalAnalysis;

namespace PhpVH.CodeAnalysis
{
    public class ExpressionWalker
    {
        private Token[] _tokens;

        public List<ExpressionAnalyzer> Analyzers { get; private set; }

        public ExpressionWalker(Token[] tokens, IEnumerable<ExpressionAnalyzer> analyzers = null)
        {
            Analyzers = new List<ExpressionAnalyzer>();

            if (analyzers != null)
            {
                Analyzers.AddRange(analyzers);
            }

            _tokens = tokens;
        }

        public void Walk()
        {
            _tokens.Iter(x => Analyzers.Iter(y => y.Analyze(x)));
        }
    }
}
